/**
 * @author Aaron Clinger - https://github.com/aaronclinger/router.js
 */
!function(t,e){"use strict";t.Router=function(a){var n,r,i={},u=[],c=t.history,o=t.location,s=o.pathname;i.addRoute=function(t){var e=t.route;return e.replace(/(?:([^\\])\/)|^\//g,"$1\\/"),u.push({id:t.id||t.route,route:"^"+e+"$",callback:t.callback}),i},i.requestRoute=function(t){t?r?o.hash=t:(d(s=t),c.pushState({},"",s)):r?h():d(o.pathname)};var d=function(t){for(var e,a,r,i=-1,c=u.length;++i<c;)if(r=u[i],a=new RegExp(r.route,"i"),null!==(e=t.match(a))){n=t,r.callback.apply(null,[{id:r.id,matches:e.slice(1)}]);break}},h=function(){var t=o.hash;t||(t="#"),d(t.slice(1))},l=function(){e.addEventListener("click",(function(t){var e=t.target,a=e.getAttribute("data-route");if(a){if(2===t.which||t.metaKey||t.ctrlKey)return;"href"===a&&(a=e.getAttribute("href")),a!==n&&i.requestRoute(a),t.preventDefault()}}))};return function(a){(r=(a=a||{}).useHash||!(c&&"pushState"in c))?t.addEventListener("hashchange",h):t.addEventListener("popstate",(function(){var t=o.pathname;s!==t&&d(s=t)})),a.disableListeners||("interactive"===e.readyState||"complete"===e.readyState?l():e.addEventListener("DOMContentLoaded",l))}(a),i}}(window,document);
